---
page_title: "Resource: auth0_connection_directory"
description: |-
  With this resource, you can configure directory provisioning (directory sync) for Google Workspace Enterprise connections. This enables automatic user provisioning from the identity provider to Auth0.
---

# Resource: auth0_connection_directory

With this resource, you can configure directory provisioning (directory sync) for `Google Workspace` Enterprise connections. This enables automatic user provisioning from the identity provider to Auth0.

## Example Usage

```terraform
resource "auth0_connection" "google_workspace" {
  name         = "google-workspace-connection"
  display_name = "Google Workspace"
  strategy     = "google-apps"

  options {
    client_id        = "your-google-client-id"
    client_secret    = "your-google-client-secret"
    domain           = "example.com"
    api_enable_users = true

  }
}

# Configure directory provisioning with default settings
resource "auth0_connection_directory" "default" {
  connection_id = auth0_connection.google_workspace.id
}

# Configure directory provisioning with custom mapping and auto-sync enabled
resource "auth0_connection_directory" "custom" {
  connection_id             = auth0_connection.google_workspace.id
  synchronize_automatically = true

  mapping {
    auth0 = "email"
    idp   = "primaryEmail"
  }

  mapping {
    auth0 = "family_name"
    idp   = "name.familyName"
  }

  mapping {
    auth0 = "given_name"
    idp   = "name.givenName"
  }

  mapping {
    auth0 = "external_id"
    idp   = "id"
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `connection_id` (String) ID of the connection for this directory provisioning configuration.

### Optional

- `mapping` (Block Set) Mapping between Auth0 attributes and IDP user attributes. Defaults to default mapping for the connection type if not specified. (see [below for nested schema](#nestedblock--mapping))
- `synchronize_automatically` (Boolean) Whether periodic automatic synchronization is enabled. Defaults to false.

### Read-Only

- `connection_name` (String) Name of the connection for this directory provisioning configuration.
- `created_at` (String) The timestamp at which the directory provisioning configuration was created.
- `id` (String) The ID of this resource.
- `last_synchronization_at` (String) The timestamp at which the connection was last synchronized.
- `last_synchronization_error` (String) The error message of the last synchronization, if any.
- `last_synchronization_status` (String) The status of the last synchronization.
- `strategy` (String) Strategy of the connection for this directory provisioning configuration.
- `updated_at` (String) The timestamp at which the directory provisioning configuration was last updated.

<a id="nestedblock--mapping"></a>
### Nested Schema for `mapping`

Required:

- `auth0` (String) The field location in the Auth0 schema.
- `idp` (String) The field location in the IDP schema.

## Import

Import is supported using the following syntax:

```shell
terraform import auth0_connection_directory.custom "con_XXXXXXXXXXXXXX"
```
